<div class="flex justify-center bg-slate-500 py-8" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTCSJCxsS4E-fuRy_gdnTPLGGJHR8zxLyREmw&s');">
  <div class="card flex flex-col justify-center p-6 bg-white rounded-lg shadow-lg">
    <form [formGroup]="formGroup" (ngSubmit)="onSubmit()" class="space-y-4">
      <div class="flex flex-col">
        <label for="date" class="text-sm font-medium text-gray-700 mb-2">Choose date</label>
        <p-calendar formControlName="date" id="date" class="mt-1 rounded-lg border border-gray-300 bg-white text-gray-900 focus:ring-blue-500 focus:border-blue-500 p-2"
                    [minDate]="today" [showIcon]="true" dateFormat="yy-mm-dd" (onSelect)="onDateSelect()"></p-calendar>
      </div>
      <div class="flex flex-col mt-4">
        <label for="time" class="text-sm font-medium text-gray-700 mb-2">Choose time</label>
        <input formControlName="time" id="time" type="time" class="mt-1 block w-full rounded-lg border border-gray-300 bg-white text-gray-900 focus:ring-blue-500 focus:border-blue-500 p-2"
               [min]="minTime">
      </div>
      <button *ngIf="dateSelected" type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4 transition ease-in-out duration-200">
        Add Slot
      </button>
    </form>
  </div>
</div>

<div class="flex flex-col items-center py-8">
  <div class="mb-4">
    <h1 class="flex items-center text-5xl font-extrabold dark:text-white">
      <span class="bg-blue-100 text-blue-800 text-2xl font-semibold px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800">All Slots</span>
    </h1>
  </div>

  <div class="w-full max-w-4xl overflow-y-auto max-h-96">
    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
        <tr>
          <th scope="col" class="px-6 py-3">Date</th>
          <th scope="col" class="px-6 py-3">Time</th>
          <th scope="col" class="px-6 py-3">Status</th>
          <th scope="col" class="px-6 py-3">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tech of Techlist" class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
          <th scope="row" class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white">
            <div class="flex items-center">
              <div class="text-base font-semibold">{{ tech.date | date: 'yyyy-MM-dd' }}</div>
            </div>
          </th>
          <td class="px-6 py-4">{{ tech.time }}</td>
          <td class="px-6 py-4">
            <span *ngIf="getSlotStatus(tech.date, tech.booked) === 'Booked'" class="bg-green-600 text-white px-2 py-1 rounded">
              Booked
            </span>
            <span *ngIf="getSlotStatus(tech.date, tech.booked) === 'Expired'" class="bg-red-600 text-white px-2 py-1 rounded">
              Expired
            </span>
            <span *ngIf="getSlotStatus(tech.date, tech.booked) === 'Pending'" class="bg-yellow-600 text-white px-2 py-1 rounded">
              Pending
            </span>
          </td>
          <td class="px-6 py-4">
            <div class="flex items-center space-x-4">
              <button *ngIf="!tech.booked && getSlotStatus(tech.date, tech.booked) === 'Pending'" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded transition ease-in-out duration-200" (click)="cancelSlot(tech._id)">
                Cancel
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
